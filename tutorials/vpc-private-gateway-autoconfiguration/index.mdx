---
title: Deploying Instances in a Private Network and exposing them using a Private Gateway
description: This page shows how to deploy virtual Instances in a Private Network and expose them using a Private Gateway
excerpt: |
  VPC consists of Private Networks and Public Gateways to create an isolated network environment for your instances, without exposing them on the public Internet. 
totalTime: PT20M
  - network
brands:
  - vpc
keywords: cloud tutorials, cloud documentations, cloud instance, cloud hosting, network, virtual instance, private network, vpc, public gateway, virtual private cloud
---

## VPC - Overview

VPC consists of [Private Networks](https://www.scaleway.com/en/private-networks/) and [Public Gateways](https://www.scaleway.com/en/public-gateway/) to create an isolated network environment for your instances, without exposing them on the public Internet. 

<Message type="requirement">

- You have an account and are logged into the [Scaleway Console](https://console.scaleway.com)
- You have [configured your SSH Key](/console/my-project/how-to/create-ssh-key/)
- You have created a [Virtual Instance](https://www.scaleway.com/en/virtual-instances/)

</Message>

## Creating a Private Network for the Virtual Instance

1. Connect to your Instance using [SSH](https://www.scaleway.com/en/docs/compute/instances/how-to/connect-to-instance/). 

  ```
  ssh root@<your_instance_ip>
  ```

  <Message type="tip">

  You can connect to your instance without [flexible IP address](https://www.scaleway.com/en/docs/compute/instances/how-to/use-flexips/) by using it's IPv6 address.

  </Message>

2. Check the status of your network interfaces using the `ip a` command. You see the details of the default ethernet adapter of your Instance:

  ```
  2: ens2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether de:1c:a4:2b:d0:39 brd ff:ff:ff:ff:ff:ff
    inet 10.70.104.113/31 scope global dynamic ens2
       valid_lft 85983sec preferred_lft 85983sec
    inet6 2001:bc8:634:c38::1/64 scope global
       valid_lft forever preferred_lft forever
    inet6 fe80::dc1c:a4ff:fe2b:d039/64 scope link
       valid_lft forever preferred_lft forever
  ```

3. Go to the [VPC section](https://console.scaleway.com/vpc/private-networks) of the Scaleway console. The VPC splash screen displays. 

  <Lightbox src="scaleway_vpc_splash.png" alt="" />

4. Click **Create a new Private Network**. The Private Network creation wizard displays. 

5. Enter the details of the new Private Network and click **Create a Private Network**:

  - Enter a **Name** for the Private Network
  - Select the region for the Private Network

    <Message type="note">

    Make sure to create the Private Network in the same region as your Virtual Instances.

    </Message>

6. The list of your Private Networks displays. Click on the name of it to display the Private Network information. 

7. Click the **Attached Resources** tab to see the list of instances attached to the Private Network. 

8. Select your Instance from the drop down menu and click **Add Instance** to attach it to the Private Network:

  <Lightbox src="scaleway_add_instance.png" alt="" />


9. Use the `ip a` command on the Instance to verify the presence of the new ethernet interface: 

  ```
  3: ens5: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 02:00:00:00:5a:d8 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::ff:fe00:5ad8/64 scope link
       valid_lft forever preferred_lft forever
  ```

The Instance is now added to the Private Network but no IP address has been configured. You can configure it manually or use DHCP auto configuration to use the interface with a Public Gateway. 

## Creating a Public Gateway

1. Click the [Public Gateways](https://console.scaleway.com/vpc/public-gateways) tab in the VPC section of the Scaleway console. The Public Gateways splash screen displays. Click **Create a Public Gateway**:

  <Lightbox src="scaleway_vpc_public_gateway_splash.png" alt="" />

2. The Private Network creation wizard displays. Enter the details of the new Public Gateway: 

  - Choose the availability Zone of the Public Gateway.
  - Select the Public Gateway offer
  - Select the Public Gateway IP address. To create a new IP, select **Allocate new IP** in the drop-down list. 
  - Enter a name and optional tags for the Private Gateway

3. Click **Create a Public Gateway**. The list of your Public Gateways displays.

  <Lightbox src="scaleway_vpc_public_gateway_list.png" alt="" />

4. Click **Manage** to display the Public Gateway Information. 

5. Click **+ Attach a new Private Network** to link the previously created Private Network with the Public Gateway.

6. Select the Private Network from the drop-down list, enable the DHCP server and dynamic NAT. Then click **Attach Private Network**:

  <Lightbox src="scaleway_vpc_public_gateway_attach_network.png" alt=""